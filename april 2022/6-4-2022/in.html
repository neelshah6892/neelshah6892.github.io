<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: black;
            font-family: 'Arial', sans-serif;
            color: white;
        }

        .background {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: 1fr;
            height: 100vh;
            width: 100vw;
            position: fixed;
            top: 0;
            left: 0;
            gap: 10px;
            padding: 10px;
        }

        .background img {
            width: 100%;
            height: 100%;
            object-fit: fill;
            border-radius: 15px;
        }

        #menuIcon {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 30px;
            height: 30px;
            cursor: pointer;
            z-index: 10;
            background-color: pink;
            border-radius: 7px;
        }

        #menuIcon:hover {
            height: 35px;
            transition: height 1s cubic-bezier(0, 2.42, 1, 2.04);
        }

        nav {
            position: fixed;
            top: 60px;
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 10;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 10px;
        }

        .menu {
            cursor: pointer;
            padding: 5px 10px;
        }

        .active-menu {
            font-weight: bold;
        }

        .hidden {
            display: none;
        }

        .ff {
            margin: 100px;
            font-size: larger;
        }

        .slide {
            object-fit: fill;
            overflow: hidden;
        }

        @media (orientation: portrait) {
            .background {
                grid-template-columns: 1fr;
                grid-template-rows: 1fr;
            }

            .background img:not(:first-child) {
                display: none;
            }
        }

        .x,
        .y,
        .z {
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        .a,
        .b,
        .c {
            opacity: 1;
            transition: opacity 1s ease-in-out;
        }
    </style>
</head>

<body>
    <div class="background" id="photos">
        <img class="slide active a x" src="6-4-2022 1.jpg" alt="Background Image" />
        <img class="slide active1 b y" src="6-4-2022 2.jpeg" alt="Background Image" />
        <img class="slide active2 c z" src="6-4-2022 3.jpeg" alt="Background Image" />
    </div>
    <div class="background hidden ff" id="videos">
        None
    </div>
    <img src="menu.webp" alt="Menu" id="menuIcon">
    <nav class="hidden">
        <div class="menu active-menu" id="photosMenu">PHOTOS</div>
        <div class="menu" id="videosMenu">VIDEOS</div>
    </nav>
    <script>
        let i1 = 0;
        let intervalId;
        // let reloadOnce = true;
        let initialOrientation = window.innerWidth < window.innerHeight ? 'portrait' : 'landscape';
        



        function grid1() {
            let img1 = ['6-4-2022 2.jpeg', '6-4-2022 3.jpeg', '6-4-2022 1.jpg'];
            let element = document.querySelector(".active");
            element.classList.remove("a");
            element.classList.add("x");
            setTimeout(() => {
                element.setAttribute("src", img1[i1]);
                element.classList.remove("x");
                element.classList.add("a");
                i1 = (i1 + 1) % img1.length;
            }, 1000);
        }

        function handleOrientationChange() {
            clearInterval(intervalId);
            let currentOrientation = window.innerWidth < window.innerHeight ? 'portrait' : 'landscape';

            if (currentOrientation !== initialOrientation) {
                initialOrientation = currentOrientation;

                if (currentOrientation === 'portrait') {
                    document.querySelector(".active1").classList.add("hidden");
                    document.querySelector(".active2").classList.add("hidden");
                    intervalId = setInterval(grid1, 4000);
                } else {
                    document.querySelector(".active1").classList.remove("hidden");
                    document.querySelector(".active2").classList.remove("hidden");
                    // intervalId = setInterval(() => {
                    //     grid1();
                    //     grid2();
                    //     grid3();
                    // }, 4000);
                }

                // Reload the page once after orientation change
                location.reload();
            } else {
                // Orientation didn't change, set the interval again
                if (currentOrientation === 'portrait') {
                    intervalId = setInterval(grid1, 4000);
                } else {
                    // intervalId = setInterval(() => {
                    //     grid1();
                    //     grid2();
                    //     grid3();
                    // }, 4000);
                    console.log('hello')
                }
            }
        }

        // Initial setup based on current orientation
        handleOrientationChange();

        // Listen for orientation changes
        window.addEventListener('orientationchange', handleOrientationChange);
        // Also listen for resize event for other viewport changes
        window.addEventListener('resize', handleOrientationChange);

        const menuIcon = document.getElementById('menuIcon');
        const nav = document.querySelector('nav');
        const photosMenu = document.getElementById('photosMenu');
        const videosMenu = document.getElementById('videosMenu');
        const photosContent = document.getElementById('photos');
        const videosContent = document.getElementById('videos');

        menuIcon.addEventListener('click', () => {
            nav.classList.toggle('hidden');
        });

        photosMenu.addEventListener('click', () => {
            photosContent.classList.remove('hidden');
            videosContent.classList.add('hidden');
            photosMenu.classList.add('active-menu');
            videosMenu.classList.remove('active-menu');
            nav.classList.add('hidden');
        });

        videosMenu.addEventListener('click', () => {
            photosContent.classList.add('hidden');
            videosContent.classList.remove('hidden');
            photosMenu.classList.remove('active-menu');
            videosMenu.classList.add('active-menu');
            nav.classList.add('hidden');
        });
    </script>
</body>

</html>